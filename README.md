# Challenge 1B: Persona-Driven Document Intelligence

## Approach
This solution ranks document sections based on persona and job relevance using TF‑IDF vectorization and cosine similarity.
It is designed to work for any persona or job file provided during evaluation.

### Key Features:
- Generic persona/job handling for any domain
- TF-IDF based semantic similarity scoring
- Top-10 section ranking system
- Fast CPU-only processing

### Algorithm:
1. Load JSON documents generated by Challenge 1A from /app/input.
2. Load persona and job description from persona_job.json (placed in /app/input).
3. Extract all sections with metadata.
4. Combine persona and job description into a single query vector.
5. Calculate TF‑IDF vectors for all sections.
6. Compute cosine similarity between each section and the query.
7. Rank and return top 10 sections with importance ranking.

## Libraries Used
- **scikit-learn**: TF‑IDF vectorization and cosine similarity
- **numpy**: Numerical operations
- **json, pathlib, os**: I/O and file handling

## Expected Inputs/Outputs
### Input:
- One or more JSON files from Challenge 1A placed in input/
- A persona_job.json file describing the persona and job in the root directory with the format:
```bash
{
"persona": "PhD Researcher in Cartography",
"job_to_be_done": "Prepare a comprehensive literature review focusing on methodologies and origins in modern cartography"
}
 ```

## How to Build and Run

### Build:
```bash
docker build --platform linux/amd64 -t doc-intelligence:v1 .
```
Run (Windows PowerShell):
```bash
docker run --rm -v ${PWD}/input:/app/input -v ${PWD}/output:/app/output --network none doc-intelligence:v1
```
Run (Windows CMD):
```bash
docker run --rm -v %cd%/input:/app/input -v %cd%/output:/app/output --network none doc-intelligence:v1
```
Run (Linux/macOS):
```bash
docker run --rm -v %cd%/input:/app/input -v %cd%/output:/app/output --network none doc-intelligence:v1
```
Folder Structure
```bash
Challenge_1B/
├── Dockerfile
├── requirements.txt
├── README.md
├── approach_explanation.md
├── main.py                   
├── persona_job.json
```
## Note:
Place your persona/job JSON file in the root directory with the name test_persona_job.json.
The program will read it from /app/persona_job.json inside the container.

## Performance
- Processes 3-10 documents in under 60 seconds
- Works offline, CPU-only
- Model size under 1GB

### Output:
- An output.json file in output/ containing:
- metadata with persona/job info
- Top‑10 ranked sections
- Generated sub‑sections with refined context
